---
import {
  storyblokEditable,
  renderRichText,
  type StoryblokRichTextNode,
  type SbBlokData,
} from "@storyblok/astro";
import StoryblokComponent from "@storyblok/astro/StoryblokComponent.astro";
import type { TextBackground } from "@/.storyblok/types/285719928053161/storyblok-components";
interface Props {
  blok: TextBackground;
}

const { blok } = Astro.props;

const titleClass = blok.isTitle
  ? "text-mine-shaft font-primary relative z-10 flex h-full items-center justify-center px-4 py-8 text-center text-4xl leading-normal font-bold"
  : "text-mine-shaft font-primary relative z-10 flex h-full items-center justify-center px-4 py-8 text-center text-4xl leading-normal font-bold";
const content = renderRichText(blok.copy as StoryblokRichTextNode<string>);
---

<section
  {...storyblokEditable(blok as SbBlokData)}
  class="container mx-auto mb-12 grid max-w-3xl place-items-center px-4"
>
  <div
    class={`after:bg-alabaster relative mb-4 w-full overflow-hidden after:absolute after:inset-0 after:rounded-3xl after:content-['']`}
  >
    <div class={titleClass}>
      <Fragment set:html={content} />
    </div>
  </div>
  <ul class="grid grid-cols-2">
    {
      blok.blocks?.map((block) => (
        <li>
          <StoryblokComponent blok={block as SbBlokData} />
        </li>
      ))
    }
  </ul>
</section>
