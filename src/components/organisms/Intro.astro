---
import {
  storyblokEditable,
  type SbBlokData,
  renderRichText,
  type StoryblokRichTextNode,
} from "@storyblok/astro";
import StoryblokComponent from "@storyblok/astro/StoryblokComponent.astro";
import type { Intro } from "@/.storyblok/types/285719928053161/storyblok-components";

interface Props {
  blok: Intro;
}

const { blok } = Astro.props;
---

<section
  {...storyblokEditable(blok as SbBlokData)}
  class="container mx-auto mb-12 max-w-3xl px-4"
>
  <!-- Section heading with divider -->
  <div class="divider divider-start text-xl font-bold uppercase">
    {blok.headline}
  </div>

  <!-- Rich text content with proper spacing -->
  <div class="prose lg:prose-lg max-w-none mb-8 text-base-content">
    <Fragment
      set:html={renderRichText(blok.richtext as StoryblokRichTextNode)}
    />
  </div>

  <!-- Action blocks (CTAs, links, etc.) -->
  {
    blok.blocks && blok.blocks.length > 0 && (
      <div class="flex flex-col sm:flex-row justify-center gap-4">
        {blok.blocks?.map((block) => (
          <StoryblokComponent blok={block as SbBlokData} />
        ))}
      </div>
    )
  }
</section>
