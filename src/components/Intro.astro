---
import {
  storyblokEditable,
  type SbBlokData,
  renderRichText,
  type StoryblokRichTextNode,
} from "@storyblok/astro";
import StoryblokComponent from "@storyblok/astro/StoryblokComponent.astro";
import type { Intro } from "@/.storyblok/types/285719928053161/storyblok-components";

interface Props {
  blok: Intro;
}

const { blok } = Astro.props;
---

<section
  {...storyblokEditable(blok as SbBlokData)}
  class="container mx-auto mb-12 max-w-3xl px-4"
>
  <h2
    class="before:bg-mine-shaft text-mine-shaft font-secondary before:bg-opacity-10 relative mb-6 text-right text-xl font-bold uppercase before:absolute before:top-1/2 before:left-0 before:h-0.5 before:w-3 before:-translate-y-1/2 before:content-['']"
  >
    {blok.headline}
  </h2>
  <div class="mb-8 grid gap-4">
    <Fragment
      set:html={renderRichText(blok.richtext as StoryblokRichTextNode)}
    />
  </div>
  <ul class="flex flex-col justify-center gap-4 sm:flex-row">
    {
      blok.blocks?.map((block) => (
        <li>
          <StoryblokComponent blok={block as SbBlokData} />
        </li>
      ))
    }
  </ul>
</section>
