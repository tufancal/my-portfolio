---
import {
  storyblokEditable,
  renderRichText,
  type StoryblokRichTextNode,
  type SbBlokData,
} from "@storyblok/astro";
import StoryblokComponent from "@storyblok/astro/StoryblokComponent.astro";
import type { ClipPath } from "@/.storyblok/types/285719928053161/storyblok-components";

interface Props {
  blok: ClipPath;
}

const { blok } = Astro.props;

const content = renderRichText(blok.copy as StoryblokRichTextNode<string>);
---

<section
  {...storyblokEditable(blok as SbBlokData)}
  class="container mx-auto mb-12 grid place-items-center px-4"
>
  <div class="relative mb-4 w-full overflow-hidden">
    <div class="bg-alabaster animate-morph-shape absolute inset-0 rounded-3xl">
    </div>
    {
      blok.isTitle ? (
        <h1 class="text-mine-shaft font-primary relative z-10 flex h-full items-center justify-center px-4 py-8 text-center text-4xl leading-normal font-bold">
          <Fragment set:html={content} />
        </h1>
      ) : (
        <div class="text-mine-shaft font-primary relative z-10 flex h-full items-center justify-center px-4 py-8 text-center text-4xl leading-normal font-bold">
          <Fragment set:html={content} />
        </div>
      )
    }
  </div>
  {
    blok.blocks?.map((block) => (
      <StoryblokComponent blok={block as SbBlokData} />
    ))
  }
</section>
